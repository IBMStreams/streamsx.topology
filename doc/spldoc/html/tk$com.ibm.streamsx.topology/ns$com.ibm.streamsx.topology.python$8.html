<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2005"/>
<meta name="DC.rights.owner" content="(C) Copyright 2005"/>
<meta name="DC.Type" content="reference"/>
<meta name="DC.Title" content="@spl.pipe"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="spldoc_page"/>
<link rel="stylesheet" type="text/css" href="../../html/commonltr.css"/>
<link rel="stylesheet" type="text/css" href="../../html/spldoc.css"/>
<title>@spl.pipe</title>
</head>
<body id="spldoc_page">


<h1 class="title topictitle1">@spl.pipe</h1>

<div class="body refbody">
<div class="section">
<p class="p">
<a class="xref" href="../toolkits/toolkits.html">Toolkits</a> &gt; <a class="xref" href="tk$com.ibm.streamsx.topology.html">com.ibm.streamsx.topology 1.4.3</a> &gt; <a class="xref" href="ns$com.ibm.streamsx.topology.python.html">com.ibm.streamsx.topology.python</a> &gt; <a class="xref" href="ns$com.ibm.streamsx.topology.python$6.html">Decorating Python Functions as SPL Operators</a> &gt; @spl.pipe</p>

</div>


<div class="section">
<p class="p">Decorator to create a pipe SPL operator. When a Python function is decorated with <tt class="ph tt">@spl.pipe</tt> a pipe SPL operator is created with a single input port and single output port.  For each input tuple the function is called, and its return value is used to submit zero or more tuples on the output port. 
</p>

<p class="p">When the function returns a tuple containing less values than attributes in the SPL output schema then the remaining attributes are copied from the input tuple if a matching attribute is found, otherwise they are set to the SPL default value.
</p>

</div>

<div class="section"><h2 class="title sectiontitle">Examples
</h2>

<p class="p">Simple <tt class="ph tt">Noop</tt> pipe operator that passes the input SPL tuple onto its output using a variable argument.
</p>

<div class="p">
<pre class="pre codeblock">
＠spl.pipe
def Noop(*tuple):
  "Pass the tuple along without any change"
  return tuple
</pre>


</div>

<div class="p">Simple filter, note that no return statement is equivalent to returning <tt class="ph tt">None</tt>:
<pre class="pre codeblock">
＠spl.pipe
def SimpleFilter(a,b):
  "Filter tuples only allowing output if the first attribute is less than the second. Returns the sum of the first two attributes."
  if (a &lt; b):
     return a+b,
</pre>


</div>

<div class="p">Demonstration of returning multiple tuples as a list.
<pre class="pre codeblock">
＠spl.pipe
def ReturnList(a,b,c):
  "Demonstrate returning a list of values, each value is submitted as an SPL tuple" 
  return [(a+1,b+1,c+1),(a+2,b+2,c+2),(a+3,b+3,c+3),(a+4,b+4,c+4)]
</pre>


</div>

</div>

</div>


</body>
</html>