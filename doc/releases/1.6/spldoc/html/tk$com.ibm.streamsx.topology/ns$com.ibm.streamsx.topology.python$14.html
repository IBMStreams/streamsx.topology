<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2005"/>
<meta name="DC.rights.owner" content="(C) Copyright 2005"/>
<meta name="DC.Type" content="reference"/>
<meta name="DC.Title" content="@spl.filter"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="spldoc_page"/>
<link rel="stylesheet" type="text/css" href="../../html/commonltr.css"/>
<link rel="stylesheet" type="text/css" href="../../html/spldoc.css"/>
<title>@spl.filter</title>
</head>
<body id="spldoc_page">


<h1 class="title topictitle1">@spl.filter</h1>

<div class="body refbody">
<div class="section">
<p class="p">
<a class="xref" href="../toolkits/toolkits.html">Toolkits</a> &gt; <a class="xref" href="tk$com.ibm.streamsx.topology.html">com.ibm.streamsx.topology 1.6.2</a> &gt; <a class="xref" href="ns$com.ibm.streamsx.topology.python.html">com.ibm.streamsx.topology.python</a> &gt; <a class="xref" href="ns$com.ibm.streamsx.topology.python$6.html">Creating SPL Operators from Python code</a> &gt; @spl.filter</p>

</div>


<div class="section">
<p class="p">Decorator to create a stateful or stateless SPL filter operator from a Python callable class or function. A filter operator has a single input port and one mandatory output port and one optional output port. For each SPL tuple arriving on the input port the decorated Python callable is called passing the tuple. If the return value evaluates to true (as defined by Python) then the same tuple is submitted to the first (mandatory) output port. If the return value evaluates to false then the same tuple is submitted to the second (optional) output port if it exists otherwise it is discarded.  
</p>

<p class="p">A filter operator is punctuation perserving.
</p>

</div>

<div class="section"><h2 class="title sectiontitle">Decorated callable class
</h2>

<p class="p">When a Python <em class="ph i">callable class</em> is decorated with <tt class="ph tt">@spl.filter</tt> a stateful SPL filter operator is created.
</p>

<p class="p">When the SPL operator is initialized <tt class="ph tt">__init__</tt> is called to create an instance of the class.  For each tuple arriving at the input port <tt class="ph tt">__call__</tt> is called and its return value is used to filter the tuple. 
</p>

<p class="p">If the class has instance fields then they are the state of the operator and are private to each invocation of the operator and maintained across calls to its <tt class="ph tt">__call__</tt> function.
</p>

</div>

<div class="section"><h2 class="title sectiontitle">Decorated function
</h2>

<p class="p">When a Python <em class="ph i">function</em> is decorated with <tt class="ph tt">@spl.filter</tt> a stateless SPL filter operator is created.
</p>

<p class="p">For each tuple arriving at the input port the decorated function is called and its return value is used to filter the tuple.
</p>

</div>

</div>


</body>
</html>